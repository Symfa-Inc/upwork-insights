schema: '2.0'
stages:
  convert_raw_to_int:
    cmd:
    - echo "\nSTAGE I\n"
    - rm data/interim/jobs.csv || true
    - python src/data/convert_raw_to_int.py
    deps:
    - path: data/raw/ADDITIONALSKILLS.csv.gz
      hash: md5
      md5: eb18aaa66362524412958657d4695a53
      size: 62478871
    - path: data/raw/COMPANIES.csv.gz
      hash: md5
      md5: 2073394d9878d5d40f64731cb2b702bc
      size: 16136607
    - path: data/raw/JOBS.csv.gz
      hash: md5
      md5: c7c448896556dda8056ee5d4b8235059
      size: 195667002
    - path: data/raw/JOB_ONTOLOGY_SKILLS.csv.gz
      hash: md5
      md5: 1c0f70fb8a2965ad5af8501d54320251
      size: 18729894
    - path: data/raw/JOB_TAGS.csv.gz
      hash: md5
      md5: 3766d7aefb3e12bfd06f6cec746c2e1c
      size: 7732867
    - path: data/raw/OCCUPATIONS.csv.gz
      hash: md5
      md5: 064cadfc49cba56935a9484019f02797
      size: 9303681
    - path: data/raw/ONTOLOGY_SKILLS.csv.gz
      hash: md5
      md5: c2620e9d0e084a41e931abb28c88a0b2
      size: 152411
    - path: data/raw/OPEN_JOBS.csv.gz
      hash: md5
      md5: e969d73d3bce41fa02549013f4975079
      size: 6736648
    - path: data/raw/SEGMENTATIONDATA.csv.gz
      hash: md5
      md5: 4e03cde5bed78aa2ea7bcbfe1045311e
      size: 8443507
    - path: data/raw/SIMILAR_JOBS.csv.gz
      hash: md5
      md5: 6d5fe8c9654bd406ce94186ab1549eeb
      size: 735172
    - path: data/raw/WORK_HISTORY.csv.gz
      hash: md5
      md5: 59e2b97eefbe01d8f4f2a2975073b098
      size: 137213192
    outs:
    - path: data/interim/jobs.csv
      hash: md5
      md5: 87de260a7876592b0d9e16f949c44800
      size: 94355268
  convert_int_to_clean:
    cmd:
    - echo "\nSTAGE II\n"
    - rm -rf data/clean || true
    - python src/data/convert_int_to_clean.py
    deps:
    - path: data/interim/jobs.csv
      hash: md5
      md5: 87de260a7876592b0d9e16f949c44800
      size: 94355268
    - path: src/data/convert_int_to_clean.py
      hash: md5
      md5: 30ee4d4a56955065b5ae524fb3c643c6
      size: 29980
    outs:
    - path: data/clean/cities.csv
      hash: md5
      md5: b10dc5131373c433143d9d5ca14ae5e3
      size: 214217
    - path: data/clean/clean.csv
      hash: md5
      md5: 8f44ece5e7c76566a794ea7ebd77cd86
      size: 69472476
  convert_clean_to_final:
    cmd:
    - echo "\nSTAGE III\n"
    - rm -rf data/final || true
    - python src/data/convert_clean_to_final.py
    deps:
    - path: data/clean/clean.csv
      hash: md5
      md5: 8f44ece5e7c76566a794ea7ebd77cd86
      size: 69472476
    - path: src/data/convert_clean_to_final.py
      hash: md5
      md5: f52fc21ce89757aff68088662cdcb01e
      size: 1636
    outs:
    - path: data/final/final.parquet
      hash: md5
      md5: 9615918fdb4b2eb280f0f19480215e24
      size: 719482103
    - path: data/final/pipeline.pkl
      hash: md5
      md5: b261e023b4d9073490640c4e742468e5
      size: 44594167
    - path: data/final/report.json
      hash: md5
      md5: 170f10cf9397a369e0f5a306a29c51cf
      size: 257399499
